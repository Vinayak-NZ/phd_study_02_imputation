input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- input
}
output <- c()
for (sim in 1:length(input)){
predicted_data <- input[[sim]]
rmse_unit_record <- evaluate_unit_record_rmse(observed_data = observed_data,
predicted_data = predicted_data,
observed_var = observed_var,
predicted_var = predicted_var)
output[sim] <- rmse_unit_record
}
return(output)
}
test <- evaluate_unit_record_rmse_bulk(observed_data = synthetic_data_subset,
input = sc_missing_mcar_20,
observed_var = "selfcare_t1",
predicted_var = "selfcare_t1_imp",
method = "MICE")
test
#MNAR-40-PA-t2
pa_t2_lwd_mnar_40_urd <- mean(
evaluate_unit_record_rmse_bulk(
observed_data = synthetic_data_subset,
input = pa_missing_mnar_40,
observed_var = "physical_activity_t2",
predicted_var = "physical_activity_t2",
method = "LWD"))
pa_t2_lwd_mnar_40_urd
#MNAR-30-PA-t2
pa_t2_lwd_mnar_30_urd <- mean(
evaluate_unit_record_rmse_bulk(
observed_data = synthetic_data_subset,
input = pa_missing_mnar_30,
observed_var = "physical_activity_t2",
predicted_var = "physical_activity_t2",
method = "LWD"))
pa_t2_lwd_mnar_30_urd
#MNAR-40-PA-t2
pa_t2_locf_mnar_40_urd <- mean(
evaluate_unit_record_rmse_bulk(
observed_data = synthetic_data_subset,
input = pa_missing_mnar_40,
observed_var = "physical_activity_t2",
predicted_var = "physical_activity_t2",
method = "LOCF"))
pa_t2_locf_mnar_40_urd
observed_data = synthetic_data_subset
input = pa_missing_mnar_40
observed_var = "physical_activity_t2"
predicted_var = "physical_activity_t2"
if(method == "MICE"){
input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- input
}
View(input)
method = "LOCF"
if(method == "MICE"){
input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- input
}
predicted_data <- input[[1]]
View(predicted_data)
if(method == "MICE"){
input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- simulate_locf_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4))
}
input = pa_missing_mnar_40
if(method == "MICE"){
input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- simulate_locf_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-4))
}
View(input)
var = substr(observed_var, 1, nchar(observed_var)-4)
var
observed_data = synthetic_data_subset
input = pa_missing_mnar_40
observed_var = "physical_activity_t2"
predicted_var = "physical_activity_t2"
method = "LOCF"
if(method == "MICE"){
input <- create_single_mice_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-3),
imp_iterations = 20)
}else if(method == "J2R"){
input <- create_single_j2r_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-3),
imp_iterations = 20)
}else if(method == "LOCF"){
input <- simulate_locf_bulk(input = input,
var = substr(observed_var, 1, nchar(observed_var)-3))
}
View(input)
output <- c()
for (sim in 1:length(input)){
predicted_data <- input[[sim]]
rmse_unit_record <- evaluate_unit_record_rmse(observed_data = observed_data,
predicted_data = predicted_data,
observed_var = observed_var,
predicted_var = predicted_var)
output[sim] <- rmse_unit_record
}
output
source("R/00_load_functions.R")
source("R/00_load_package.R")
source("R/01_load_data.R")
source("R/02_data_edit.R")
source("R/03_create_synthetic_data.R")
source("R/04_simulate_missingness.R")
source("R/06_modelling_observed.R")
source("R/05_imputation_J2R.R")
source("R/06_modelling_J2R.R")
source("R/05_imputation_LOCF.R")
source("R/06_modelling_LOCF.R")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_20.RData")
source("R/05_imputation_MICE.R")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_20_part_02.RData")
source("R/06_modelling_MICE.R")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_20_part_03.RData")
## ---- list-wise-deletion
source("R/06_modelling_LWD.R")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_20_part_04.RData")
source("R/07_evaluate_unit_record_level.R")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_20_part_05.RData")
sc_t1_mice_mcar_20_urd
sc_t1_mice_mcar_30_urd
sc_t1_mice_mcar_40_urd
sc_t1_mice_mar_20_urd
sc_t1_mice_mar_30_urd
sc_t1_mice_mar_40_urd
sc_t1_mice_mnar_20_urd
sc_t1_mice_mnar_30_urd
sc_t1_mice_mnar_40_urd
sc_t1_j2r_mcar_20_urd
sc_t1_j2r_mcar_30_urd
sc_t1_j2r_mcar_40_urd
sc_t1_j2r_mar_20_urd
sc_t1_j2r_mar_30_urd
sc_t1_j2r_mar_40_urd
sc_t1_j2r_mnar_20_urd
sc_t1_j2r_mnar_30_urd
sc_t1_j2r_mnar_40_urd
sc_t1_locf_mcar_20_urd
sc_t1_locf_mcar_30_urd
sc_t1_locf_mcar_40_urd
sc_t1_locf_mar_20_urd
sc_t1_locf_mar_30_urd
sc_t1_locf_mar_40_urd
sc_t1_locf_mnar_20_urd
sc_t1_locf_mnar_30_urd
sc_t1_locf_mnar_40_urd
sc_j2r_mcar_20_te
source("R/07_evaluate_treatment_effect.R")
View(pa_lwd_model_mcar_20)
#MCAR-20
sc_lwd_model_mcar_20 <- model_lwd_bulk(input = sc_missing_mcar_20,
var = "selfcare")
source("R/00_load_package.R")
#MCAR-20
sc_lwd_model_mcar_20 <- model_lwd_bulk(input = sc_missing_mcar_20,
var = "selfcare")
#MCAR-30
sc_lwd_model_mcar_30 <- model_lwd_bulk(input = sc_missing_mcar_30,
var = "selfcare")
#MCAR-40
sc_lwd_model_mcar_40 <- model_lwd_bulk(input = sc_missing_mcar_40,
var = "selfcare")
#MAR-20
sc_lwd_model_mar_20 <- model_lwd_bulk(input = sc_missing_mar_20,
var = "selfcare")
#MAR-30
sc_lwd_model_mar_30 <- model_lwd_bulk(input = sc_missing_mar_30,
var = "selfcare")
#MAR-40
sc_lwd_model_mar_40 <- model_lwd_bulk(input = sc_missing_mar_40,
var = "selfcare")
#MAR-20
sc_lwd_model_mnar_20 <- model_lwd_bulk(input = sc_missing_mnar_20,
var = "selfcare")
#MAR-30
sc_lwd_model_mnar_30 <- model_lwd_bulk(input = sc_missing_mnar_30,
var = "selfcare")
#MAR-40
sc_lwd_model_mnar_40 <- model_lwd_bulk(input = sc_missing_mnar_40,
var = "selfcare")
## ---- physical-activity-LOCF-modelling
#MCAR-20
pa_lwd_model_mcar_20 <- model_lwd_bulk(input = pa_missing_mcar_20,
var = "physical_activity")
#MCAR-30
pa_lwd_model_mcar_30 <- model_lwd_bulk(input = pa_missing_mcar_30,
var = "physical_activity")
source("R/07_evaluate_treatment_effect.R")
sc_j2r_mcar_20_te
sc_j2r_mcar_30_te
sc_j2r_mcar_40_te
sc_j2r_mar_20_te
sc_j2r_mar_30_te
sc_j2r_mar_40_te
sc_j2r_mnar_20_te
sc_j2r_mnar_30_te
sc_j2r_mnar_40_te
sc_mice_mcar_20_te
sc_mice_mcar_30_te
sc_mice_mcar_40_te
sc_mice_mar_20_te
sc_mice_mar_30_te
sc_mice_mar_40_te
sc_mice_mnar_20_te
sc_mice_mnar_30_te
sc_mice_mnar_40_te
sc_lwd_mcar_20_te
sc_lwd_mcar_30_te
sc_lwd_mcar_40_te
sc_lwd_mar_20_te
sc_lwd_mar_30_te
sc_lwd_mar_40_te
sc_lwd_mnar_20_te
sc_lwd_mnar_30_te
sc_lwd_mnar_40_te
sc_locf_mcar_20_te
#MCAR-20-SC
sc_locf_mcar_20_te <- mean(
derive_treatment_rmse(sc_locf_model_mcar_20,
observed_treatment_effect_sc))
sc_locf_mcar_20_te
#MCAR-30-SC
sc_locf_mcar_30_te <- mean(
derive_treatment_rmse(sc_locf_model_mcar_30,
observed_treatment_effect_sc))
#MCAR-40-SC
sc_locf_mcar_40_te <- mean(
derive_treatment_rmse(sc_locf_model_mcar_40,
observed_treatment_effect_sc))
#MAR-20-SC
sc_locf_mar_20_te <- mean(
derive_treatment_rmse(sc_locf_model_mar_20,
observed_treatment_effect_sc))
#MAR-30-SC
sc_locf_mar_30_te <- mean(
derive_treatment_rmse(sc_locf_model_mar_30,
observed_treatment_effect_sc))
#MAR-40-SC
sc_locf_mar_40_te <- mean(
derive_treatment_rmse(sc_locf_model_mar_40,
observed_treatment_effect_sc))
#MNAR-20-SC
sc_locf_mnar_20_te <- mean(
derive_treatment_rmse(sc_locf_model_mnar_20,
observed_treatment_effect_sc))
#MNAR-30-SC
sc_locf_mnar_30_te <- mean(
derive_treatment_rmse(sc_locf_model_mnar_30,
observed_treatment_effect_sc))
#MNAR-40-SC
sc_locf_mnar_40_te <- mean(
derive_treatment_rmse(sc_locf_model_mnar_40,
observed_treatment_effect_sc))
#MCAR-20-PA
pa_locf_mcar_20_te <- mean(
derive_treatment_rmse(pa_locf_model_mcar_20,
observed_treatment_effect_pa))
#MCAR-30-PA
pa_locf_mcar_30_te <- mean(
derive_treatment_rmse(pa_locf_model_mcar_30,
observed_treatment_effect_pa))
#MCAR-40-PA
pa_locf_mcar_40_te <- mean(
derive_treatment_rmse(pa_locf_model_mcar_40,
observed_treatment_effect_pa))
#MAR-20-PA
pa_locf_mar_20_te <- mean(
derive_treatment_rmse(pa_locf_model_mar_20,
observed_treatment_effect_pa))
#MAR-30-PA
pa_locf_mar_30_te <- mean(
derive_treatment_rmse(pa_locf_model_mar_30,
observed_treatment_effect_pa))
#MAR-40-PA
pa_locf_mar_40_te <- mean(
derive_treatment_rmse(pa_locf_model_mar_40,
observed_treatment_effect_pa))
#MNAR-20-PA
pa_locf_mnar_20_te <- mean(
derive_treatment_rmse(pa_locf_model_mnar_20,
observed_treatment_effect_pa))
#MNAR-30-PA
pa_locf_mnar_30_te <- mean(
derive_treatment_rmse(pa_locf_model_mnar_30,
observed_treatment_effect_pa))
#MNAR-40-PA
pa_locf_mnar_40_te <- mean(
derive_treatment_rmse(pa_locf_model_mnar_40,
observed_treatment_effect_pa))
#MCAR-30-SC
sc_locf_mcar_30_te <- mean(
derive_treatment_rmse(sc_locf_model_mcar_30,
observed_treatment_effect_sc))
sc_locf_mcar_30_te
sc_locf_mcar_40_te
sc_locf_mar_20_te
sc_locf_mar_30_te
sc_locf_mar_40_te
sc_locf_mnar_20_te
sc_locf_mnar_30_te
sc_locf_mnar_40_te
pa_j2r_mcar_20_te
pa_j2r_mcar_30_te
pa_j2r_mcar_40_te
pa_j2r_mar_20_te
pa_j2r_mar_30_te
pa_j2r_mar_40_te
pa_j2r_mnar_20_te
pa_j2r_mnar_30_te
pa_j2r_mnar_40_te
pa_mice_mcar_20_te
pa_mice_mcar_30_te
pa_mice_mcar_40_te
pa_mice_mar_20_te
pa_mice_mar_30_te
pa_mice_mar_40_te
pa_mice_mnar_20_te
pa_mice_mnar_30_te
pa_mice_mnar_40_te
pa_lwd_mcar_20_te
pa_lwd_mcar_30_te
pa_lwd_mcar_40_te
pa_lwd_mar_20_te
pa_lwd_model_mar_20[[1]]
pa_lwd_mar_30_te
#MCAR-40-PA
pa_lwd_mcar_40_te <- mean(
derive_treatment_rmse(pa_lwd_model_mcar_40,
observed_treatment_effect_pa))
#MAR-20-PA
pa_lwd_mar_20_te <- mean(
derive_treatment_rmse(pa_lwd_model_mar_20,
observed_treatment_effect_pa))
#MAR-30-PA
pa_lwd_mar_30_te <- mean(
derive_treatment_rmse(pa_lwd_model_mar_30,
observed_treatment_effect_pa))
#MAR-40-PA
pa_lwd_mar_40_te <- mean(
derive_treatment_rmse(pa_lwd_model_mar_40,
observed_treatment_effect_pa))
#MNAR-20-PA
pa_lwd_mnar_20_te <- mean(
derive_treatment_rmse(pa_lwd_model_mnar_20,
observed_treatment_effect_pa))
#MNAR-30-PA
pa_lwd_mnar_30_te <- mean(
derive_treatment_rmse(pa_lwd_model_mnar_30,
observed_treatment_effect_pa))
#MNAR-40-PA
pa_lwd_mnar_40_te <- mean(
derive_treatment_rmse(pa_lwd_model_mnar_40,
observed_treatment_effect_pa))
#MCAR-20-PA
pa_locf_mcar_20_te <- mean(
derive_treatment_rmse(pa_locf_model_mcar_20,
observed_treatment_effect_pa))
pa_locf_mcar_20_te
pa_locf_mcar_30_te
pa_locf_mcar_40_te
pa_locf_mar_20_te
pa_locf_mar_30_te
pa_locf_mar_40_te
pa_locf_mnar_20_te
pa_locf_mnar_30_te
pa_locf_mnar_40_te
#MCAR-40
pa_lwd_model_mcar_40 <- model_lwd_bulk(input = pa_missing_mcar_40,
var = "physical_activity")
#MAR-20
pa_lwd_model_mar_20 <- model_lwd_bulk(input = pa_missing_mar_20,
var = "physical_activity")
#MAR-20-PA
pa_lwd_mar_20_te <- mean(
derive_treatment_rmse(pa_lwd_model_mar_20,
observed_treatment_effect_pa))
pa_lwd_mar_20_te
#MAR-30
pa_lwd_model_mar_30 <- model_lwd_bulk(input = pa_missing_mar_30,
var = "physical_activity")
#MAR-40
pa_lwd_model_mar_40 <- model_lwd_bulk(input = pa_missing_mar_40,
var = "physical_activity")
#MAR-20
pa_lwd_model_mnar_20 <- model_lwd_bulk(input = pa_missing_mnar_20,
var = "physical_activity")
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_21.RData")
sc_t2_mice_mcar_20_urd
sc_t2_mice_mcar_30_urd
sc_t2_mice_mcar_40_urd
sc_t2_mice_mar_20_urd
sc_t2_mice_mar_30_urd
sc_t2_mice_mar_40_urd
sc_t2_mice_mnar_20_urd
sc_t2_mice_mnar_30_urd
sc_t2_mice_mnar_40_urd
sc_t2_j2r_mcar_20_urd
sc_t2_j2r_mcar_30_urd
sc_t2_j2r_mcar_40_urd
sc_t2_j2r_mar_20_urd
sc_t2_j2r_mar_30_urd
sc_t2_j2r_mar_40_urd
sc_t2_j2r_mnar_20_urd
sc_t2_j2r_mnar_30_urd
sc_t2_j2r_mnar_40_urd
sc_t2_locf_mcar_20_urd
sc_t2_locf_mcar_30_urd
sc_t2_locf_mcar_40_urd
sc_t2_locf_mar_20_urd
sc_t2_locf_mar_30_urd
sc_t2_locf_mar_40_urd
sc_t2_locf_mnar_20_urd
sc_t2_locf_mnar_30_urd
sc_t2_locf_mnar_40_urd
pa_t1_mice_mcar_20_urd
pa_t1_mice_mcar_30_urd
pa_t1_mice_mcar_40_urd
pa_t1_mice_mar_20_urd
pa_t1_mice_mar_30_urd
pa_t1_mice_mar_40_urd
pa_t1_mice_mnar_20_urd
pa_t1_mice_mnar_30_urd
pa_t1_mice_mnar_40_urd
pa_t1_j2r_mcar_20_urd
pa_t1_j2r_mcar_30_urd
pa_t1_j2r_mcar_40_urd
pa_t1_j2r_mar_20_urd
pa_t1_j2r_mar_30_urd
pa_t1_j2r_mar_40_urd
pa_t1_j2r_mnar_20_urd
pa_t1_j2r_mnar_30_urd
pa_t1_j2r_mnar_40_urd
pa_t1_locf_mcar_20_urd
pa_t1_locf_mcar_30_urd
pa_t1_locf_mcar_40_urd
pa_t1_locf_mar_20_urd
pa_t1_locf_mar_30_urd
pa_t1_locf_mar_40_urd
pa_t1_locf_mnar_20_urd
pa_t1_locf_mnar_30_urd
pa_t1_locf_mnar_40_urd
pa_t2_mice_mcar_20_urd
pa_t2_mice_mcar_30_urd
pa_t2_mice_mcar_40_urd
pa_t2_mice_mcar_40_urd
pa_t2_mice_mar_20_urd
pa_t2_mice_mar_30_urd
pa_t2_mice_mar_40_urd
pa_t2_mice_mnar_20_urd
pa_t2_mice_mnar_30_urd
pa_t2_mice_mnar_40_urd
pa_t2_j2r_mcar_20_urd
pa_t2_j2r_mcar_30_urd
pa_t2_j2r_mcar_40_urd
pa_t2_j2r_mar_20_urd
pa_t2_j2r_mar_30_urd
pa_t2_j2r_mar_40_urd
pa_t2_j2r_mnar_20_urd
pa_t2_j2r_mnar_30_urd
pa_t2_j2r_mnar_40_urd
pa_t2_locf_mcar_20_urd
pa_t2_locf_mcar_30_urd
pa_t2_locf_mcar_40_urd
pa_t2_locf_mar_20_urd
pa_t2_locf_mar_30_urd
pa_t2_locf_mar_40_urd
pa_t2_locf_mnar_20_urd
pa_t2_locf_mnar_30_urd
pa_t2_locf_mnar_40_urd
save.image("~/Documents/Documents - Vinayak’s Mac mini/projects/phd_study_02/phd_study_02_imputation/input/workspaces/2024_08_23.RData")
